# Tomcat 9

An Ansible role to install Tomcat 9 on RHEL.

> Notes:  
>
> - Should probably be called `tomcat9`, or else also be able to install other tomcat versions.  
> - This role is currently a wrapper around an install script. This should be made 'ansible native'.  
> - Need to better template the files `tomcat9.service` and `server.xml`.  
> - Add support for external manifest, or S3 support in current manifest

## Requirements

OpenJDK11

## Overview

This role installs Tomcat 9 and installs a service file to `/usr/lib/systemd/system/tomcat9.service`. 

This role depends on an internal manifest to organise tomcat versions, name, pulic download URL, etc. This manifest can be regenerated by the shell script [`vars/tomcat_generate_manifest.sh](vars/tomcat_generate_manifest.sh). 

## Role Variables

| Variable         | Default              | Description                                        |
| ---------------- | -------------------- | -------------------------------------------------- |
| tomcat_version   | 9.0.105              | Version of tomcat9 to install. Also supports 'latest'                     |
| tomcat_symlink   | "/usr/share/tomcat9" | The symlink location to Tomcat Home                |
| tomcat_java_home | N/A                  | Not implemented yet: Java home in the Service file |

## Example Playbook

```yaml
- hosts: all
  roles:
    - role: tomcat
      vars:
        tomcat_version: "9.0.105"
```

## Author

Eoin Hayes - @hayeseoin